<div class="col-12 col-sm-6 col-md-4 col-lg-2 p-1">
  <% if ranking <= player.tournament.number_of_winners %>
    <div class="scoreboard-player-card money">
  <% else %>
    <div class="scoreboard-player-card">
  <% end %>
  <% ranking = ranking.ordinalize %>
    <div class="first-row">
      <div><h4><%= ranking %></h4></div>
      <div>
        <h4><%= player.new_rating %></h4>
        <%= display_rating_change(player) %>
      </div>
    </div>

    <div class="text-center mb-2">
      <%= render '/players/photo', player: player, size: 128, css_class: "player-avatar" %>
    </div>

    <div class="player-name">
      <p><strong><%= player.name %></strong></p>
    </div>

    <div class="player-bottom-half-info">
      <div class="score-line">
        <p>
          <%= display_record(player) %>
        </p>
        <div>&nbsp;</div>
        <p class="spread">
          <%= signed(player.spread) %>
        </p>
      </div>

      <div class="flex-column next-last">
        <div class="gap-2 last-game-info">
          <% player_round = (player.win_count + player.loss_count).round.to_i %>

          <%# Player's last game score %>
          <% matchup = Matchup.for_player(player).complete.order(:round_number).last %>
          <% if matchup %>
            <strong>Last:</strong>
            <% result = matchup.result_for_player(player) %>
            <%= display_score(result) %>
            <%= render '/players/thumbnail', player: result.opponent, css_class: "opponent-avatar" %>
          <% end %>
        </div>

        <%# Player's next game %>
        <div class="next-game-info mt-auto">
          <% matchup = Matchup.for_player(player).pending.order(:round_number).first %>
          <% if matchup %>
            <% result = matchup.result_for_player(player) %>
            <div class="next-game-text">
              <strong>Next: </strong>
              <div class="first-second-opponent">
                <%= display_matchup(result) %>
              </div>
            </div>
            <%= render '/players/thumbnail', player: result.opponent, css_class: "opponent-avatar" %>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
