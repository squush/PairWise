<div class="container">
  <h1 class="mb-3 border-bottom border-3"><%= @tournament.location %></h1>

  <div class="mb-3 border-bottom border-3">
    <h4>Director: <%= @tournament.user.email %></h4>
    <p>Date: <%= @tournament.date.strftime('%B %e, %Y') %></p>
    <p>Number of rounds: <%= @tournament.rounds %></p>
    <p>Number of winners:
      <%= @tournament.number_of_winners || "unknown" %>
    </p>
    <p>Pairing system: <%= @tournament.pairing_system.capitalize %></p>
  </div>

  <div class="mb-3 border-bottom border-3">
    <p>Players</p>
    <ul>
      <% @tournament.players.each do |player| %>
        <li><%= player.name %></li>
      <% end %>
    </ul>
  </div>

  <%# TODO: Make this into a partial.
            When the score is updated, the updated score ends up going to the
            bottom. That will need to be fixed. Maybe it's desirable to push
            "already done" scores to the end, but it's unintuitive to the user.
            The update could also be handled directly from the tournament show
            page, but that might get tricky.
            https://kitt.lewagon.com/knowledge/tutorials/inline_edit
  %>
  <div class="mb-3 border-bottom border-3">
    <p>Rounds</p>
    <ul class="mb-3">
      <% @tournament.matchups.each do |matchup| %>
        <li class="d-flex justify-content-between col-5 border-bottom align-items-center">
          <div>
            Round <%= matchup.round_number %>:
            <div class="px-2">
              <%= matchup.player1.name %>
              (<%= matchup.player1_score.nil? ? "0" : matchup.player1_score %>) :
              <%= matchup.player2.name %>
              (<%= matchup.player2_score.nil? ? "0" : matchup.player2_score %>)
            </div>
          </div>
          <div>
            <%= link_to "Set score", edit_matchup_path(matchup),
              class: "btn btn-sm btn-outline-primary" %>
          </div>
        </li>
      <% end %>
    </ul>

  </div>
</div>
